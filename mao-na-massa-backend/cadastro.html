<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro - M√£o na Massa</title>
    <!-- Carrega o Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Carrega a fonte Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Estiliza os inputs de radio customizados */
        .custom-radio:checked {
            background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='8' cy='8' r='3'/%3e%3c/svg%3e");
            background-color: #2563eb; /* bg-blue-600 */
            border-color: #2563eb; /* border-blue-600 */
        }
    </style>
</head>

<body class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200 min-h-screen flex items-center justify-center py-12 px-4">

<div class="max-w-xl w-full bg-white dark:bg-gray-800 p-8 rounded-xl shadow-2xl space-y-6">
    <h1 class="text-3xl font-bold text-center text-blue-600 dark:text-blue-500">Criar sua Conta</h1>

    <!-- Barra de Progresso -->
    <div class="progresso w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5">
        <div id="progresso-barra" class="bg-blue-600 h-2.5 rounded-full transition-all duration-500 ease-out" style="width: 20%"></div>
    </div>

    <!-- Etapa 1: Dados Pessoais -->
    <div id="etapa1" class="etapa space-y-4">
        <h2 class="text-xl font-semibold text-gray-900 dark:text-white">Etapa 1: Dados Pessoais</h2>
        <input type="text" id="nome" placeholder="Nome Completo" required class="w-full p-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
        <input type="email" id="email" placeholder="E-mail" required class="w-full p-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
        <input type="text" id="cpf" placeholder="CPF (somente n√∫meros)" maxlength="11" required class="w-full p-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
        <input type="tel" id="telefone" placeholder="Telefone (com DDD)" required class="w-full p-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
        <input type="password" id="senha" placeholder="Senha (m√≠nimo 8 caracteres)" required minlength="8" class="w-full p-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
        <input type="password" id="confirmar" placeholder="Confirmar Senha" required minlength="8" class="w-full p-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
        <div id="password-error" class="text-red-500 text-sm hidden">As senhas n√£o conferem.</div>
        <div class="flex justify-between space-x-4">
            <button onclick="window.location.href='index.html'" class="w-1/2 px-4 py-3 bg-gray-200 text-gray-800 rounded-md font-semibold hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600">Cancelar</button>
            <button onclick="proximaEtapa(2)" class="w-1/2 px-4 py-3 bg-blue-600 text-white rounded-md font-semibold hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600">Avan√ßar</button>
        </div>
    </div>

    <!-- Etapa 2: Verifica√ß√£o de C√≥digo (Simula√ß√£o) -->
    <div id="etapa2" class="etapa hidden space-y-4">
        <h2 class="text-xl font-semibold text-gray-900 dark:text-white">Etapa 2: Verifica√ß√£o</h2>
        <p class="text-gray-600 dark:text-gray-300">Um c√≥digo de 6 d√≠gitos foi enviado para <strong id="email-confirmacao">seu e-mail</strong>. (Isto √© uma simula√ß√£o, digite 123456).</p>
        <input type="text" id="codigo" placeholder="Digite o c√≥digo (123456)" required class="w-full p-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
        <div id="code-error" class="text-red-500 text-sm hidden">C√≥digo inv√°lido. Digite 123456.</div>
        <div class="flex justify-between space-x-4">
            <button onclick="voltarEtapa(1)" class="w-1/2 px-4 py-3 bg-gray-200 text-gray-800 rounded-md font-semibold hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600">Voltar</button>
            <button onclick="proximaEtapa(3)" class="w-1/2 px-4 py-3 bg-blue-600 text-white rounded-md font-semibold hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600">Confirmar</button>
        </div>
    </div>

    <!-- Etapa 3: Tipo de Conta -->
    <div id="etapa3" class="etapa hidden space-y-4">
        <h2 class="text-xl font-semibold text-gray-900 dark:text-white">Etapa 3: Tipo de Conta</h2>
        <p class="text-gray-600 dark:text-gray-300">Como voc√™ gostaria de usar o M√£o na Massa?</p>
        <div class="space-y-3">
            <label class="flex items-center p-4 border border-gray-300 dark:border-gray-600 rounded-md cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700">
                <input type="radio" name="tipo" value="cliente" class="custom-radio h-5 w-5 text-blue-600 border-gray-400 focus:ring-blue-500">
                <span class="ml-3 text-lg font-medium text-gray-800 dark:text-gray-200">Sou Cliente</span>
                <span class="ml-auto text-sm text-gray-500 dark:text-gray-400">Quero contratar servi√ßos</span>
            </label>
            <label class="flex items-center p-4 border border-gray-300 dark:border-gray-600 rounded-md cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700">
                <input type="radio" name="tipo" value="prestador" class="custom-radio h-5 w-5 text-blue-600 border-gray-400 focus:ring-blue-500">
                <span class="ml-3 text-lg font-medium text-gray-800 dark:text-gray-200">Sou Prestador</span>
                <span class="ml-auto text-sm text-gray-500 dark:text-gray-400">Quero oferecer servi√ßos</span>
            </label>
        </div>
        <div class="flex justify-between space-x-4">
            <button onclick="voltarEtapa(2)" class="w-1/2 px-4 py-3 bg-gray-200 text-gray-800 rounded-md font-semibold hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600">Voltar</button>
            <button onclick="escolherTipo()" class="w-1/2 px-4 py-3 bg-blue-600 text-white rounded-md font-semibold hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600">Avan√ßar</button>
        </div>
    </div>

    <!-- Etapa 4: Dados Cliente -->
    <div id="etapa4_cliente" class="etapa hidden space-y-4">
        <h2 class="text-xl font-semibold text-gray-900 dark:text-white">Etapa 4: Informa√ß√µes do Cliente</h2>
        <input type="text" placeholder="CEP" required class="w-full p-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
        <input type="text" placeholder="Endere√ßo (Rua, N√∫mero, Bairro)" required class="w-full p-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Foto de perfil (opcional)
            <input type="file" accept="image/*" class="mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-blue-900 dark:file:text-blue-300 dark:hover:file:bg-blue-800">
        </label>
        <label class="flex items-center text-sm text-gray-600 dark:text-gray-300">
            <input type="checkbox" id="termos_cliente" required class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500">
            <span class="ml-2">Li e aceito os <a href="#" class="text-blue-600 dark:text-blue-400 hover:underline">termos de uso</a> e a <a href="#" class="text-blue-600 dark:text-blue-400 hover:underline">pol√≠tica de privacidade</a>.</span>
        </label>
        <div class="flex justify-between space-x-4">
            <button onclick="voltarEtapa(3)" class="w-1/2 px-4 py-3 bg-gray-200 text-gray-800 rounded-md font-semibold hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600">Voltar</button>
            <button onclick="proximaEtapa(5)" class="w-1/2 px-4 py-3 bg-blue-600 text-white rounded-md font-semibold hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600">Criar Conta</button>
        </div>
    </div>

    <!-- Etapa 4: Dados Prestador -->
    <div id="etapa4_prestador" class="etapa hidden space-y-4">
        <h2 class="text-xl font-semibold text-gray-900 dark:text-white">Etapa 4: Informa√ß√µes do Prestador</h2>
        <select required class="w-full p-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
            <option value="">Principal √Årea de Atua√ß√£o</option>
            <option value="eletrica">El√©trica</option>
            <option value="encanamento">Encanamento</option>
            <option value="limpeza">Limpeza Residencial</option>
            <option value="manutencao">Manuten√ß√£o e Reparos</option>
            <option value="jardinagem">Jardinagem</option>
        </select>
        <textarea placeholder="Descri√ß√£o profissional (Fale sobre voc√™ e seus servi√ßos)" required rows="3" class="w-full p-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"></textarea>
        <input type="text" placeholder="CEP" required class="w-full p-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">

        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Foto de perfil (opcional)
            <input type="file" accept="image/*" class="mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-blue-900 dark:file:text-blue-300 dark:hover:file:bg-blue-800">
        </label>
        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Documento (RG ou CNH)
            <input type="file" accept=".pdf,.jpg,.png" required class="mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-blue-900 dark:file:text-blue-300 dark:hover:file:bg-blue-800">
        </label>

        <label class="flex items-center text-sm text-gray-600 dark:text-gray-300">
            <input type="checkbox" id="termos_prestador" required class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500">
            <span class="ml-2">Li e aceito os <a href="#" class="text-blue-600 dark:text-blue-400 hover:underline">termos de uso</a> e a <a href="#" class="text-blue-600 dark:text-blue-400 hover:underline">pol√≠tica de privacidade</a>.</span>
        </label>

        <div class="flex justify-between space-x-4">
            <button onclick="voltarEtapa(3)" class="w-1/2 px-4 py-3 bg-gray-200 text-gray-800 rounded-md font-semibold hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600">Voltar</button>
            <button onclick="proximaEtapa(5)" class="w-1/2 px-4 py-3 bg-blue-600 text-white rounded-md font-semibold hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600">Enviar para An√°lise</button>
        </div>
    </div>

    <!-- Etapa 5: Finaliza√ß√£o -->
    <div id="etapa5" class="etapa hidden text-center space-y-6">
        <div class="text-6xl">üéâ</div>
        <h2 class="text-2xl font-semibold text-gray-900 dark:text-white">Cadastro Conclu√≠do!</h2>
        <p id="mensagem-final" class="text-gray-600 dark:text-gray-300">Parab√©ns! Seu cadastro foi conclu√≠do com sucesso.</p>
        <button onclick="window.location.href='index.html'" class="w-full px-4 py-3 bg-blue-600 text-white rounded-md font-semibold hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600">Ir para a P√°gina Inicial</button>
    </div>

</div>

<!-- JavaScript Incorporado -->
<script>
    let etapaAtual = 1;
    const etapas = document.querySelectorAll('.etapa');
    const barraProgresso = document.getElementById('progresso-barra');
    const progressPercent = { 1: 20, 2: 40, 3: 60, 4: 80, 5: 100 };
    let tipoConta = '';

    function atualizarBarra(passo) {
        barraProgresso.style.width = `${progressPercent[passo]}%`;
    }

    function mostrarEtapa(passo) {
        etapas.forEach(etapa => etapa.classList.add('hidden'));
        document.getElementById(`etapa${passo}`).classList.remove('hidden');
        etapaAtual = passo;
        atualizarBarra(passo);
    }

    function validarEtapa1() {
        const senha = document.getElementById('senha').value;
        const confirmar = document.getElementById('confirmar').value;
        const email = document.getElementById('email').value;
        const errorDiv = document.getElementById('password-error');

        if (senha !== confirmar) {
            errorDiv.classList.remove('hidden');
            return false;
        }
        errorDiv.classList.add('hidden');
        document.getElementById('email-confirmacao').textContent = email;
        return true;
    }

    function validarEtapa2() {
        const codigo = document.getElementById('codigo').value;
        const errorDiv = document.getElementById('code-error');
        // Simula√ß√£o de c√≥digo de verifica√ß√£o
        if (codigo === '123456') {
            errorDiv.classList.add('hidden');
            return true;
        }
        errorDiv.classList.remove('hidden');
        return false;
    }

    function validarEtapa4(tipo) {
        const termosId = `termos_${tipo}`;
        if (!document.getElementById(termosId).checked) {
            alert('Voc√™ deve aceitar os termos de uso e a pol√≠tica de privacidade.');
            return false;
        }
        return true;
    }

    function proximaEtapa(passo) {
        // Valida√ß√µes antes de avan√ßar
        if (etapaAtual === 1 && !validarEtapa1()) return;
        if (etapaAtual === 2 && !validarEtapa2()) return;
        if (etapaAtual === 4) { // Ao avan√ßar da etapa 4 (cliente ou prestador)
            if (!validarEtapa4(tipoConta)) return;

            // Atualiza mensagem final
            const msgFinal = document.getElementById('mensagem-final');
            if(tipoConta === 'prestador') {
                msgFinal.textContent = "Seu cadastro foi enviado para an√°lise. Voc√™ ser√° notificado por e-mail assim que for aprovado.";
            } else {
                msgFinal.textContent = "Parab√©ns! Seu cadastro foi conclu√≠do com sucesso. Voc√™ j√° pode buscar profissionais.";
            }
        }

        // L√≥gica de navega√ß√£o
        if (passo === 4) {
            // Ao tentar ir para a etapa 4, mostramos a de cliente ou prestador
            mostrarEtapa(`4_${tipoConta}`);
        } else {
            mostrarEtapa(passo);
        }
    }

    function voltarEtapa(passo) {
        mostrarEtapa(passo);
    }

    function escolherTipo() {
        const tipoSelecionado = document.querySelector('input[name="tipo"]:checked');
        if (!tipoSelecionado) {
            alert('Por favor, selecione um tipo de conta.');
            return;
        }
        tipoConta = tipoSelecionado.value; // 'cliente' ou 'prestador'
        proximaEtapa(4); // Vai para a proximaEtapa, que por sua vez chama a etapa '4_cliente' or '4_prestador'
    }
</script>
</body>
</html>